"0","data$Giris1_Anlik_lag1 <- lag(data$Giris1_Anlik, 1)"
"0","data$Giris1_Anlik_lag2 <- lag(data$Giris1_Anlik, 2)"
"0","data$Giris1_Anlik_lag3 <- lag(data$Giris1_Anlik, 3)"
"0",""
"0","# Hareketli ortalama (5 ölçümlük)"
"0","data$Giris1_Anlik_ma5 <- stats::filter(data$Giris1_Anlik, rep(1/5, 5), sides = 2)"
"0",""
"0",""
"0","# Debi değişim oranı"
"0","data$Giris1_Anlik_change <- c(NA, diff(data$Giris1_Anlik))"
"0",""
"0",""
"0","# Hafta sonu numerik değişkeni"
"0","data$Hafta_Sonu_num <- ifelse(data$Hafta_Sonu == ""Hafta Sonu"", 1, 0)"
"0",""
"0",""
"0","# Gün kategorisi (sabah, öğle, akşam, gece)"
"0","data$Gun_Kategorisi <- case_when("
"0","  data$Saat >= 6 & data$Saat < 12 ~ ""Sabah"","
"0","  data$Saat >= 12 & data$Saat < 18 ~ ""Öğle"", "
"0","  data$Saat >= 18 & data$Saat < 24 ~ ""Akşam"","
"0","  TRUE ~ ""Gece"""
"0",")"
"0",""
"0","# Eksik değerleri temizle"
"0","data_clean <- na.omit(data)"
"0",""
"0","# Kümeleme için özellik matrisini hazırla"
"0","features <- data_clean[, c(""Giris1_Anlik"", ""Saat"", ""Ay"", ""Gun"", "
"0","                          ""Giris1_Anlik_lag1"", ""Giris1_Anlik_lag2"", "
"0","                          ""Giris1_Anlik_ma5"", ""Giris1_Anlik_change"", "
"0","                          ""Hafta_Sonu_num"")]"
"0",""
"0","# Verileri standartlaştır (önemli!)"
"0","features_scaled <- scale(features)"
"0",""
